<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>spectro-web-wip</title>
    <link href="3rdparty/bootstrap-5.3.3-dist/css/bootstrap.css" rel="stylesheet" />
    <link href="main.css" rel="stylesheet" />
    <script src ="main.js"></script>
    <script src ="spectro.js"></script>
  </head>
  <body>
    <main>
        <div id="wrapper">
            <div id="box-scope"><canvas id="canvas2"></canvas></div>
            <div id="box-preview">
                <div id="source-pages">
                    <div id="source-list">
                        <p>
                            Frist select a source to process. No data will be sent to any servers, the site is running entirerily in your browser.
                        </p>
                        <p>
                            <button class="btn btn-primary" onclick="listCameras(); return false;">Use a camera</button>
                            <button class="btn btn-primary">Open a photo or video</button>
                        </p>
                    </div>
                    <div id="source-cameras">
                        <select id="camera-list" class="form-select" onchange="selectCamera()">
                            <option value="none">Loading...</option>
                        </select>
                        <br/>
                        <button class="btn btn-secondary" onclick="resetSource()">Select another source</button>
                    </div>
                    <div id="source-main">
                        <canvas id="canvas1"></canvas>
                        <br/>
                        <button class="btn btn-secondary" onclick="resetSource()">Select another source</button>
                    </div>
                </div>
            </div>
            <div id="box-menu">
                <ul class="nav nav-pills" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="home-tab" data-bs-toggle="pill" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Setup</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="profile-tab" data-bs-toggle="pill" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Inspect</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="contact-tab" data-bs-toggle="pill" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">More</button>
                    </li>
                  </ul>
                  <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                        <form onsubmit="return false;">
                            <div class="form-group">
                                <label for="profile" class="form-label">Profile</label>
                                <select id="profile" class="form-select">
                                    <option selected>Default</option>
                                    <option value="1">Other one</option>
                                </select>
                                <button class="btn btn-primary">Add new profile</button>
                            </div>

                            <br/>

                            <h2>-- Setup --</h2>

                            <p>
                                In this section you define the location and orientation of the projected image on the source material. Try to contain the whole projected rainbow, with the blue and red markers at the correct ends of it. Keep a bit of extra space on both ends.
                            </p>

                            <p>
                                You only need to do this once.
                            </p>

                            <label for="setting_rotation" class="form-label">Rotation</label>
                            <input id="setting_rotation" type="range" class="form-range" min="-1.0" max="1.0" step="0.005" value="0" onchange="updateSettings(1)" oninput="updateSettings(1)" />

                            <label for="setting_pad_x" class="form-label">Position X</label>
                            <input id="setting_pad_x" type="range" class="form-range" min="-1.0" max="1.0" step="0.001" value="0" onchange="updateSettings(1)" oninput="updateSettings(1)" />

                            <label for="setting_pad_y" class="form-label">Position Y</label>
                            <input id="setting_pad_y" type="range" class="form-range" min="-1.0" max="1.0" step="0.001" value="0" onchange="updateSettings(1)" oninput="updateSettings(1)" />

                            <label for="setting_scale" class="form-label">Scale</label>
                            <input id="setting_scale" type="range" class="form-range" min="0.01" max="5.0" step="0.01" value="1.0" onchange="updateSettings(1)" oninput="updateSettings(1)" />
                        </form>
                    </div>
                    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                        Inspect here
                    </div>
                    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                        Compose
                    </div>
                  </div>
            </div>
            <div id="box-footer">This is a blah-blah <a href="about:blank">spectro-web-wip</a> read the <a href="about:blank">blog post</a> about it.</div>
        </div>
    </main>
    <script src="3rdparty/bootstrap-5.3.3-dist/js/bootstrap.bundle.js"></script>
  </body>
</html>
